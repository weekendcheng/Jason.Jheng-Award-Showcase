<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>å¾—çç´€éŒ„ï½œPortfolio of Awards</title>
  <meta name="description" content="å€‹äººå¾—çç´€éŒ„å½™æ•´èˆ‡å±•ç¤º" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;900&display=swap" rel="stylesheet">
  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { sans: ['Inter', 'ui-sans-serif', 'system-ui'] },
          colors: {
            brand: {
              50: '#eef7ff', 100: '#d9edff', 200: '#bce0ff', 300: '#8ccaff',
              400: '#57adff', 500: '#2b90ff', 600: '#1675e6', 700: '#115bb4',
              800: '#0f498c', 900: '#103c6f'
            }
          }
        }
      }
    }
  </script>
  <style>
    html { scroll-behavior: smooth; }
  </style>
</head>
<body class="bg-slate-50 text-slate-800">
  <!-- NAV -->
  <header class="sticky top-0 z-50 backdrop-blur supports-[backdrop-filter]:bg-white/70 bg-white/90 border-b border-slate-200">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="w-9 h-9 rounded-xl bg-brand-600 text-white grid place-items-center font-bold">ğŸ†</div>
        <div class="font-extrabold tracking-tight text-slate-900">å¾—çç´€éŒ„</div>
      </div>
      <nav class="hidden md:flex items-center gap-6 text-sm">
        <a href="#stats" class="hover:text-brand-700">æ¦‚è¦½</a>
        <a href="#list" class="hover:text-brand-700">æ¸…å–®</a>
        <a href="#timeline" class="hover:text-brand-700">æ™‚é–“è»¸</a>
        <a href="#gallery" class="hover:text-brand-700">ç›¸ç°¿</a>
        <a href="#about" class="hover:text-brand-700">é—œæ–¼</a>
      </nav>
      <button id="exportCsvBtn" class="inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-medium bg-slate-900 text-white hover:bg-slate-800 active:scale-[.99]">åŒ¯å‡º CSV</button>
    </div>
  </header>

  <!-- HERO -->
  <section class="bg-gradient-to-b from-brand-50 to-transparent border-b border-slate-200">
    <div class="max-w-6xl mx-auto px-4 py-12 grid md:grid-cols-[auto,1fr] gap-8">
      <img id="profilePhoto" src="https://i.ibb.co/hRNxq2HD/375456.jpg" alt="profile" class="w-28 h-28 rounded-2xl object-cover ring-4 ring-white shadow"/>
      <div>
        <h1 class="text-2xl md:text-4xl font-black tracking-tight text-slate-900">{NAME} çš„å¾—çç´€éŒ„</h1>
        <p class="mt-3 text-slate-600 max-w-2xl">åœ¨é€™è£¡æ•´ç†æ‰€æœ‰æ¯”è³½èˆ‡æª¢å®šçš„æˆå°±ã€‚æ”¯æ´é—œéµå­—æœå°‹ã€å¹´åº¦/é¡åˆ¥ç¯©é¸ã€CSV åŒ¯å‡ºèˆ‡ç›¸ç‰‡å±•ç¤ºã€‚å°‡ä¸‹æ–¹ <code>awardsData</code> ç›´æ¥ç·¨è¼¯å³å¯ä¸Šç·šã€‚</p>
        <div class="mt-4 flex flex-wrap items-center gap-3 text-sm text-slate-600">
          <span class="inline-flex items-center gap-2 px-2.5 py-1 rounded-full bg-white border border-slate-200">ğŸ“ Taiwan</span>
          <span class="inline-flex items-center gap-2 px-2.5 py-1 rounded-full bg-white border border-slate-200">ğŸ“ Student Portfolio</span>
          <span class="inline-flex items-center gap-2 px-2.5 py-1 rounded-full bg-white border border-slate-200">ğŸ”’ ç„¡éœ€å¾Œç«¯</span>
        </div>
      </div>
    </div>
  </section>

  <!-- CONTROLS + STATS -->
  <section id="stats" class="max-w-6xl mx-auto px-4 py-8">
    <div class="grid md:grid-cols-4 gap-4">
      <div class="rounded-2xl bg-white border border-slate-200 p-4">
        <div class="text-slate-500 text-sm">ç¸½å¾—çæ•¸</div>
        <div id="statTotal" class="text-3xl font-black mt-1">0</div>
      </div>
      <div class="rounded-2xl bg-white border border-slate-200 p-4">
        <div class="text-slate-500 text-sm">é‡‘ / éŠ€ / éŠ…</div>
        <div id="statMedals" class="text-3xl font-black mt-1">-</div>
      </div>
      <div class="rounded-2xl bg-white border border-slate-200 p-4">
        <div class="text-slate-500 text-sm">æ¶µè“‹å¹´ä»½</div>
        <div id="statYears" class="text-3xl font-black mt-1">-</div>
      </div>
      <div class="rounded-2xl bg-white border border-slate-200 p-4">
        <div class="text-slate-500 text-sm">é¡åˆ¥æ•¸</div>
        <div id="statCategories" class="text-3xl font-black mt-1">-</div>
      </div>
    </div>

    <div class="mt-6 rounded-2xl bg-white border border-slate-200 p-4">
      <div class="grid md:grid-cols-[1fr,180px,180px] gap-3">
        <input id="searchInput" placeholder="æœå°‹é—œéµå­—ï¼ˆä¾‹å¦‚ï¼šè‹±èªã€ç¸£è³½ã€ç§‘å±•ï¼‰" class="w-full rounded-xl border border-slate-300 px-3 py-2.5 outline-none focus:ring-4 focus:ring-brand-200" />
        <select id="yearFilter" class="rounded-xl border border-slate-300 px-3 py-2.5 outline-none focus:ring-4 focus:ring-brand-200">
          <option value="">å…¨éƒ¨å¹´ä»½</option>
        </select>
        <select id="categoryFilter" class="rounded-xl border border-slate-300 px-3 py-2.5 outline-none focus:ring-4 focus:ring-brand-200">
          <option value="">å…¨éƒ¨é¡åˆ¥</option>
        </select>
      </div>
    </div>
  </section>

  <!-- LIST -->
  <section id="list" class="max-w-6xl mx-auto px-4 py-4">
    <div id="cards" class="grid md:grid-cols-2 lg:grid-cols-3 gap-4"></div>
    <div id="emptyState" class="hidden rounded-2xl bg-white border border-dashed border-slate-300 p-8 text-center text-slate-500">æ²’æœ‰ç¬¦åˆæ¢ä»¶çš„é …ç›®ã€‚</div>
  </section>

  <!-- TIMELINE -->
  <section id="timeline" class="max-w-6xl mx-auto px-4 py-10">
    <h2 class="text-xl font-extrabold tracking-tight mb-4">æ™‚é–“è»¸</h2>
    <ol id="timelineList" class="relative border-s border-slate-200 pl-6"></ol>
  </section>

  <!-- GALLERY -->
  <section id="gallery" class="max-w-6xl mx-auto px-4 py-10">
    <h2 class="text-xl font-extrabold tracking-tight mb-4">ç›¸ç°¿</h2>
    <div id="galleryGrid" class="grid grid-cols-2 md:grid-cols-4 gap-3"></div>
  </section>

  <!-- ABOUT -->
  <section id="about" class="max-w-6xl mx-auto px-4 py-12">
    <div class="rounded-2xl bg-white border border-slate-200 p-6">
      <h3 class="text-lg font-bold">å¦‚ä½•ç¶­è­·é€™å€‹ç¶²ç«™ï¼Ÿ</h3>
      <ol class="list-decimal pl-6 mt-3 space-y-2 text-slate-700">
        <li>æŠŠé€™å€‹ <code>index.html</code> æª”ä¸Šå‚³åˆ°ä»»ä¸€éœæ…‹ç©ºé–“ï¼ˆGitHub Pagesã€Netlifyã€Cloudflare Pagesã€æˆ–å­¸æ ¡/å…¬å¸çš„éœæ…‹ä¸»æ©Ÿï¼‰ã€‚</li>
        <li>åœ¨ä¸‹æ–¹ <code>awardsData</code> é™£åˆ—ä¸­ï¼Œç…§è‘—ç¯„ä¾‹æ–°å¢æˆ–ä¿®æ”¹å¾—çé …ç›®å³å¯ã€‚</li>
        <li>åœ–ç‰‡/è­‰æ›¸å»ºè­°æ”¾åˆ°é›²ç«¯ï¼ˆGoogle Drive è¨­å…¬é–‹é€£çµã€æˆ– Imgur/Cloudinaryï¼‰ï¼ŒæŠŠ URL å¡«åˆ° <code>photo</code> / <code>certificate</code> æ¬„ä½ã€‚</li>
      </ol>
      <p class="mt-3 text-sm text-slate-500">é€²éšï¼šè‹¥æƒ³ç”¨ Google è©¦ç®—è¡¨ç¶­è­·ï¼Œæˆ‘å¯ä»¥æŠŠæ­¤é æ”¹æˆè®€å–ç·šä¸Š CSV/JSONã€‚</p>
    </div>
    <footer class="mt-8 text-center text-xs text-slate-500">Â© <span id="yearNow"></span> {NAME}. All rights reserved.</footer>
  </section>

  <!-- DATA + SCRIPT -->
  <script>
    // 1) ç·¨è¼¯é€™æ®µè³‡æ–™å³å¯ï¼ˆå¯åŠ å¯åˆªï¼‰ã€‚date ç”¨ YYYY-MM-DD ä¾¿æ–¼æ’åºã€‚
    const awardsData = [
      {
        title: 'å…¨åœ‹è‹±èªæœ—è®€æ¯”è³½',
        event: 'ç¬¬15å±†å…¨åœ‹ä¸­å°å­¸è‹±èªæ¯”è³½',
        level: 'å…¨åœ‹è³½', // æ ¡å…§/ç¸£å¸‚/å…¨åœ‹/åœ‹éš›
        rank: 'é‡‘ç‰Œ', // é‡‘/éŠ€/éŠ…/å„ªå‹/ç¬¬ä¸€å...
        category: 'èªæ–‡',
        org: 'æ•™è‚²éƒ¨',
        date: '2024-12-10',
        location: 'å°åŒ—',
        description: 'ä»¥è‡ªé¸æ–‡ç« æœ—è®€ï¼Œç™¼éŸ³èˆ‡æƒ…ç·’è¡¨é”ç²å¾—è©•å¯©ä¸€è‡´å¥½è©•ã€‚',
        certificate: '',
        photo: 'https://images.unsplash.com/photo-1508171444681-032a1e8e1f2a?q=80&w=1200&auto=format&fit=crop'
      },
      {
        title: 'ç§‘å­¸å±•è¦½ç«¶è³½ å„ªç­‰',
        event: 'ç¬¬23å±†æ ¡åœ’ç§‘å±•',
        level: 'æ ¡å…§',
        rank: 'å„ªç­‰',
        category: 'ç§‘å­¸',
        org: 'è‡ªç„¶ç§‘å­¸ç¤¾',
        date: '2025-03-22',
        location: 'æ–°ç«¹',
        description: 'è‡ªè£½æ»…ç«å™¨å¯¦é©—è¨­è¨ˆï¼Œå±•ç¤ºåŒ–å­¸åæ‡‰èˆ‡å®‰å…¨æ€§ã€‚',
        certificate: '',
        photo: 'https://images.unsplash.com/photo-1632633175699-bdb0772f0630?q=80&w=1200&auto=format&fit=crop'
      },
      {
        title: 'æ•¸å­¸ç«¶è³½ äºè»',
        event: 'IMC å€åŸŸé¸æ‹”è³½',
        level: 'ç¸£å¸‚',
        rank: 'ç¬¬äºŒå',
        category: 'æ•¸å­¸',
        org: 'æ•¸å­¸å­¸æœƒ',
        date: '2023-11-05',
        location: 'å°ä¸­',
        description: 'çµ„åˆæ•¸å­¸èˆ‡å¹¾ä½•ç¶œåˆé¡Œè¡¨ç¾ç©©å®šã€‚',
        certificate: '',
        photo: 'https://images.unsplash.com/photo-1516375199440-4833ff9b99df?q=80&w=1200&auto=format&fit=crop'
      },
      {
        title: 'ç¨‹å¼è¨­è¨ˆæŒ‘æˆ°è³½ å„ªå‹',
        event: 'Scratch x Python æ ¡åœ’ç›ƒ',
        level: 'æ ¡å…§',
        rank: 'å„ªå‹',
        category: 'è³‡è¨Š',
        org: 'è³‡è¨Šç ”ç©¶ç¤¾',
        date: '2025-05-18',
        location: 'å°åŒ—',
        description: 'ä»¥ Python å¯¦ä½œè³‡æ–™è¦–è¦ºåŒ–å°å°ˆé¡Œã€‚',
        certificate: '',
        photo: 'https://images.unsplash.com/photo-1515879218367-8466d910aaa4?q=80&w=1200&auto=format&fit=crop'
      }
    ];

    // 2) ç«™é»è¨­å®šï¼š
    const siteConfig = {
      name: 'é„­ç¨‹ä¸°Jason.Jheng', // â† é€™è£¡æ”¹æˆå°æœ‹å‹åå­—
      profilePhoto: document.getElementById('profilePhoto').src
    };

    // å·¥å…·å‡½å¼
    const $ = (sel) => document.querySelector(sel);
    const $$ = (sel) => Array.from(document.querySelectorAll(sel));
    const fmt = (d) => new Date(d).toLocaleDateString('zh-TW', { year: 'numeric', month: '2-digit', day: '2-digit'});

    // åˆå§‹åŒ–æ¨™é¡Œ/å¹´ä»½
    document.title = `${siteConfig.name || '{NAME}'} çš„å¾—çç´€éŒ„`;
    document.querySelectorAll('h1').forEach(h => h.innerHTML = document.title);
    $('#yearNow').textContent = new Date().getFullYear();

    const yearFilter = $('#yearFilter');
    const categoryFilter = $('#categoryFilter');
    const searchInput = $('#searchInput');

    function refreshFilters() {
      const years = [...new Set(awardsData.map(a => new Date(a.date).getFullYear()))].sort((a,b)=>b-a);
      years.forEach(y => {
        const opt = document.createElement('option');
        opt.value = String(y);
        opt.textContent = `${y} å¹´`;
        yearFilter.appendChild(opt);
      });
      const cats = [...new Set(awardsData.map(a => a.category))].sort();
      cats.forEach(c => {
        const opt = document.createElement('option');
        opt.value = c;
        opt.textContent = c;
        categoryFilter.appendChild(opt);
      });
    }

    function computeStats(list) {
      const total = list.length;
      const medalMap = { 'é‡‘': 0, 'éŠ€': 0, 'éŠ…': 0 };
      list.forEach(a => {
        if (a.rank.includes('é‡‘')) medalMap['é‡‘']++;
        else if (a.rank.includes('éŠ€')) medalMap['éŠ€']++;
        else if (a.rank.includes('éŠ…')) medalMap['éŠ…']++;
      });
      const years = [...new Set(list.map(a => new Date(a.date).getFullYear()))];
      const cats = [...new Set(list.map(a => a.category))];
      $('#statTotal').textContent = total;
      $('#statMedals').textContent = `${medalMap['é‡‘']} / ${medalMap['éŠ€']} / ${medalMap['éŠ…']}`;
      $('#statYears').textContent = years.length ? `${Math.min(...years)}â€“${Math.max(...years)}` : '-';
      $('#statCategories').textContent = cats.length;
    }

    function renderCards(list) {
      const container = $('#cards');
      const empty = $('#emptyState');
      container.innerHTML = '';
      if (list.length === 0) { empty.classList.remove('hidden'); return; }
      empty.classList.add('hidden');
      list.forEach(a => {
        const card = document.createElement('article');
        card.className = 'rounded-2xl bg-white border border-slate-200 overflow-hidden hover:shadow-md transition-shadow';
        card.innerHTML = `
          <img src="${a.photo || 'https://picsum.photos/800/450'}" alt="${a.title}" class="w-full h-40 object-cover"/>
          <div class="p-4">
            <div class="flex items-center justify-between gap-3">
              <h3 class="font-bold text-slate-900">${a.title}</h3>
              <span class="text-xs px-2 py-1 rounded-full bg-brand-100 text-brand-800 border border-brand-200">${a.level}</span>
            </div>
            <div class="mt-1 text-sm text-slate-600">${a.event}</div>
            <div class="mt-2 flex flex-wrap items-center gap-2 text-xs text-slate-600">
              <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-slate-100">ğŸ… ${a.rank}</span>
              <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-slate-100">ğŸ“š ${a.category}</span>
              <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-slate-100">ğŸ“ ${a.location || '-'}</span>
              <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-slate-100">ğŸ—“ï¸ ${fmt(a.date)}</span>
            </div>
            <p class="mt-3 text-sm text-slate-700">${a.description || ''}</p>
            <div class="mt-3 flex items-center gap-3">
              ${a.certificate ? `<a href="${a.certificate}" target="_blank" class="text-sm font-medium text-brand-700 hover:underline">æŸ¥çœ‹è­‰æ›¸ â†’</a>` : ''}
            </div>
          </div>
        `;
        container.appendChild(card);
      });
    }

    function renderTimeline(list) {
      const tl = $('#timelineList');
      tl.innerHTML = '';
      list.slice().sort((a,b)=> new Date(b.date)-new Date(a.date)).forEach(a => {
        const li = document.createElement('li');
        li.className = 'mb-6';
        li.innerHTML = `
          <div class="absolute -left-1.5 mt-1 w-3 h-3 rounded-full bg-brand-500"></div>
          <time class="text-xs text-slate-500">${fmt(a.date)}</time>
          <div class="mt-1 font-semibold">${a.title} Â· <span class="text-slate-600 font-normal">${a.event}</span></div>
          <div class="text-sm text-slate-600">${a.level}ï½œ${a.rank}ï½œ${a.category}ï½œ${a.location || ''}</div>
        `;
        tl.appendChild(li);
      });
    }

    function renderGallery(list) {
      const grid = $('#galleryGrid');
      grid.innerHTML = '';
      list.filter(a => a.photo).forEach(a => {
        const fig = document.createElement('figure');
        fig.className = 'overflow-hidden rounded-xl border border-slate-200 bg-white';
        fig.innerHTML = `
          <img src="${a.photo}" alt="${a.title}" class="w-full h-40 object-cover hover:scale-105 transition-transform"/>
          <figcaption class="p-2 text-xs text-slate-600">${a.title}ï¼ˆ${a.rank}ï¼‰</figcaption>
        `;
        grid.appendChild(fig);
      });
    }

    function applyFilters() {
      const kw = searchInput.value.trim();
      const y = yearFilter.value;
      const c = categoryFilter.value;
      let list = awardsData.slice();
      if (kw) {
        const k = kw.toLowerCase();
        list = list.filter(a => JSON.stringify(a).toLowerCase().includes(k));
      }
      if (y) list = list.filter(a => String(new Date(a.date).getFullYear()) === y);
      if (c) list = list.filter(a => a.category === c);
      // ç”±æ–°åˆ°èˆŠ
      list.sort((a,b)=> new Date(b.date) - new Date(a.date));
      computeStats(list);
      renderCards(list);
      renderTimeline(list);
      renderGallery(list);
    }

    function exportCSV() {
      const headers = ['title','event','level','rank','category','org','date','location','description','certificate','photo'];
      const rows = awardsData.map(a => headers.map(h => (a[h] ?? '').toString().replaceAll('"', '""')));
      const csv = [headers.join(','), ...rows.map(r => '"' + r.join('","') + '"')].join('\n');
      const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = 'awards.csv'; a.click();
      URL.revokeObjectURL(url);
    }

    // ç¶å®šäº‹ä»¶
    [searchInput, yearFilter, categoryFilter].forEach(el => el.addEventListener('input', applyFilters));
    document.getElementById('exportCsvBtn').addEventListener('click', exportCSV);

    // å•Ÿå‹•
    refreshFilters();
    applyFilters();
  </script>
</body>
</html>
